
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Recording economic and finacial news.">
      
      
        <meta name="author" content="Diperluer">
      
      
        <link rel="canonical" href="https://www.diperluer.cn/git/">
      
      
      
      
      <link rel="icon" href="../assets/32x_code_computer.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Git - 滴尔</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="滴尔" class="md-header__button md-logo" aria-label="滴尔" data-md-component="logo">
      
  <img src="../assets/code_computer.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            滴尔
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Git
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="deep-purple"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  <font size=5>主页</font>

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../blog/archive/" class="md-tabs__link">
        
  
    
  
  <font size=5>归档</font>

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../blog/tag/" class="md-tabs__link">
        
  
    
  
  <font size=5>标签</font>

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../level11/%E4%B8%AD%E4%B8%9C%E5%B1%80%E5%8A%BF/Middle_East/" class="md-tabs__link">
          
  
    
  
  <font size=5>地区冲突</font>

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../level21/%E7%BB%8F%E6%B5%8E%E6%94%BF%E7%AD%96/economic/" class="md-tabs__link">
          
  
    
  
  <font size=5>经济和货币政策</font>

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../level31/invest/" class="md-tabs__link">
        
  
    
  
  <font size=5>投资指南</font>

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="滴尔" class="md-nav__button md-logo" aria-label="滴尔" data-md-component="logo">
      
  <img src="../assets/code_computer.png" alt="logo">

    </a>
    滴尔
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font size=5>主页</font>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../blog/archive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font size=5>归档</font>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../blog/tag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font size=5>标签</font>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    <font size=5>地区冲突</font>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            <font size=5>地区冲突</font>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../level11/%E4%B8%AD%E4%B8%9C%E5%B1%80%E5%8A%BF/Middle_East/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font face="黑体" color=#FF4500>中东局势</font>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../level11/%E4%BF%84%E4%B9%8C%E6%88%98%E4%BA%89/Russia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font face="黑体" color=#FF4500>俄乌战争</font>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../level11/%E6%9C%9D%E9%B2%9C%E5%8D%8A%E5%B2%9B/North_Korea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font face="黑体" color=#FF4500>朝鲜半岛</font>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    <font size=5>经济和货币政策</font>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            <font size=5>经济和货币政策</font>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../level21/%E7%BB%8F%E6%B5%8E%E6%94%BF%E7%AD%96/economic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font face="黑体" color=#FF4500>经济政策</font>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../level21/%E8%B4%A7%E5%B8%81%E6%94%BF%E7%AD%96/currency/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font face="黑体" color=#FF4500>货币政策</font>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../level31/invest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    <font size=5>投资指南</font>
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h2 id="_1"><a class="headerlink" href="#_1" title="Permanent link">#</a></h2>
<h3 id="git"><center><table><tr><td bgcolor=#FF4500>Git 的使用</td></tr></table></center><a class="headerlink" href="#git" title="Permanent link">#</a></h3>
<hr />
<h1 id="_2">拉取远程更改并变基你的提交<a class="headerlink" href="#_2" title="Permanent link">#</a></h1>
<div class="highlight"><pre><span></span><code>git pull --rebase origin feature/ais
</code></pre></div>
<h1 id="git_1">git代理设置<a class="headerlink" href="#git_1" title="Permanent link">#</a></h1>
<p>特定网站代理<br></p>
<div class="highlight"><pre><span></span><code>git clone -c http.proxy=&quot;127.0.0.1:7890&quot; https://chromium.googlesource.com/libyuv/libyuv
</code></pre></div>
<p>HTTP/HTTPS 协议<br></p>
<div class="highlight"><pre><span></span><code>git clone -c http.proxy=&quot;http://proxy.example.com:8080&quot; https://github.com/user/repo.git
</code></pre></div>
<p>SOCKS5 协议<br></p>
<div class="highlight"><pre><span></span><code>git clone -c http.proxy=&quot;socks5://proxy.example.com:1080&quot; https://github.com/user/repo.git
</code></pre></div>
<p>仅对特定域名设置代理<br></p>
<div class="highlight"><pre><span></span><code>git config --global http.https://github.com.proxy socks5://proxy.example.com:1080
</code></pre></div>
<p>取消特定域名代理<br></p>
<div class="highlight"><pre><span></span><code>git config --global --unset http.https://github.com.proxy
</code></pre></div>
<p>设置全局 HTTP/HTTPS 代理<br></p>
<div class="highlight"><pre><span></span><code>git config --global http.proxy http://proxy.example.com:8080
git config --global https.proxy https://proxy.example.com:8080
</code></pre></div>
<p>设置全局 SOCKS5 代理<br></p>
<div class="highlight"><pre><span></span><code>git config --global http.proxy socks5://proxy.example.com:1080
git config --global https.proxy socks5://proxy.example.com:1080
</code></pre></div>
<p>取消全局代理<br></p>
<div class="highlight"><pre><span></span><code>git config --global --unset http.proxy
git config --global --unset https.proxy
</code></pre></div>
<h1 id="1_git">1. Git 的使用<a class="headerlink" href="#1_git" title="Permanent link">#</a></h1>
<p>Git 的进阶学习资源《Pro Git（中文版）》:</p>
<div class="highlight"><pre><span></span><code>https://gitee.com/progit/index.html

https://git-scm.com/book/zh/v2
</code></pre></div>
<p>请结合 2.5.1 节的解释和示意图来理解和使用以下常用命令。 </p>
<p>1.1 本地仓库操作 </p>
<div class="highlight"><pre><span></span><code>$git help &lt;cmd&gt;
</code></pre></div>
<p>查看帮助信息，更具体的帮助信息可以通过参数指定。 </p>
<div class="highlight"><pre><span></span><code>$git config
</code></pre></div>
<p>Git 的工作参数配置，可以根据个人喜好来定制 git 的默认工作参数。 </p>
<p>如 2.5.2 节，在获取 OpenHarmony 代码前需要配置用户名和邮箱地址等。 </p>
<div class="highlight"><pre><span></span><code>$git config --global alias.st status
</code></pre></div>
<p>设置 status 命令的短命令别名为 st 
    $git init <repo_dir> </p>
<p>可以在指定⽬ 录下创建⼀ 个空的 Git 仓库（即生成.git/文件夹），不带 repo_dir 参数则在当前⽬ 录下创 
建空的代码仓库。 </p>
<div class="highlight"><pre><span></span><code>$git clone &lt;src_repo_path&gt; &lt;dest_repo_dir&gt;
</code></pre></div>
<p>可以将 src_repo_path 指定的仓库，完整地复制一份到 dest_repo_dir，并默认将工作区恢复到 HEAD 指 
向的那次提交的快照。 </p>
<p>src_repo_path 可以是本地仓库路径，也可以是远程仓库路径；dest_repo_dir 是复制下来的仓库在本地 
的存储路径，不指定的话则默认复制到当前目录下。如： </p>
<p>将~/Ohos/Gn_Projs 仓库 clone 到./GnProjs 路径下 </p>
<div class="highlight"><pre><span></span><code>$git clone ~/Ohos/Gn_Projs ./GnProjs
</code></pre></div>
<p>使用 https 协议，将远程的 https://gitee.com/liangkzgitee/GnProjs.git 仓库 clone 到./GnProjs 路径下 </p>
<div class="highlight"><pre><span></span><code>$git clone https://gitee.com/liangkzgitee/GnProjs.git ./GnProjs
</code></pre></div>
<p>使用 SSH 协议，将远程的 git@gitee.com:liangkzgitee/GnProjs.git 仓库 clone 到./GnProjs 路径下 </p>
<div class="highlight"><pre><span></span><code>$git clone git@gitee.com:liangkzgitee/GnProjs.git ./GnProjs

$git status
</code></pre></div>
<p>查看当前工作区和暂存区的状态，可以知道修改、新增、暂存了哪些文件。 </p>
<div class="highlight"><pre><span></span><code>$git diff
</code></pre></div>
<p>查看任意“两棵树”的差异，这“两棵树”可以是两个文件（列表）、工作区与暂存区、两次提交、两个分支 </p>
<p>等，通过参数来指定，如： </p>
<div class="highlight"><pre><span></span><code>$git diff
</code></pre></div>
<p>不带参数，默认比较工作区与暂存区的所有差异 </p>
<div class="highlight"><pre><span></span><code>$git diff --staged
</code></pre></div>
<p>比较暂存区与当前分支最后一次提交的所有差异 </p>
<div class="highlight"><pre><span></span><code>$git diff --staged branch
</code></pre></div>
<p>比较暂存区与指定的 branch 分支最后一次提交的所有差异 </p>
<div class="highlight"><pre><span></span><code>$git diff file1[ file2 ...]
</code></pre></div>
<p>比较工作区的 file1[ file2 ...]与暂存区的 file1[ file2 ...]的差异 </p>
<div class="highlight"><pre><span></span><code>$git diff commitID1 commitID2 比较两次提交产生的所有差异

$git diff branch1 branch2
</code></pre></div>
<p>比较两个分支的所有差异 </p>
<div class="highlight"><pre><span></span><code>$git add &lt;dir/file&gt;
</code></pre></div>
<p>将参数指定的目录或文件从工作区添加到暂存区 </p>
<p>将工作区中所有修改和新增的目录、文件一次性添加到暂存区 </p>
<div class="highlight"><pre><span></span><code>$git add .
</code></pre></div>
<p>《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【在线资源仓库：https://gitee.com/liangkzgitee/ohos_study_note】 </p>
<p>《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【“鸿蒙系统学习笔记”技术专栏：https://ost.51cto.com/column/46】 
503 </p>
<p>将工作区中指定的 dir1[ dir2 ...] file1[ file2 ...]列表一次性添加到暂存区 </p>
<div class="highlight"><pre><span></span><code>$git add dir1[ dir2 ...] file1[ file2 ...]

$git commit -m “message”
</code></pre></div>
<p>将暂存区的所有修改内容提交到本地仓库内，使⽤ 指定的<message>作为提交信息。commit 前，必须先设置 </p>
<p>提交者的用户信息，包括用户名和邮箱。 </p>
<p>将暂存区中指定的 dir1[ dir2 ...] file1[ file2 ...]一部分列表，提交到本地仓库 </p>
<div class="highlight"><pre><span></span><code>$git commit dir1[ dir2 ...] file1[ file2 ...] -m “message”
</code></pre></div>
<p>将当前暂存区的修改，合并到最近的⼀ 次 commit 中，并丢弃上一次的 commit， </p>
<p>重新提交一次新的 commit 来替换，也就是重写上一次提交的历史，这样可以减少 commitID 的数量。 </p>
<div class="highlight"><pre><span></span><code>$git commit -m “new_message” --amend

$git stash
</code></pre></div>
<p>用于将工作区的修改、新增文件临时保存起来，然后将工作区恢复到最后一次 commit 后的干净状态。不带参 </p>
<p>数默认不会对新增（untracked）的文件临时保存起来，增加--all 参数才会对新增（untracked）文件也一并 </p>
<p>临时保存起来。 </p>
<div class="highlight"><pre><span></span><code>$git stash --all
</code></pre></div>
<p>暂存所有文件，包括没有被 git 追踪(untracked)的文件 </p>
<div class="highlight"><pre><span></span><code>$git stash list
</code></pre></div>
<p>查看 stash 列表 </p>
<div class="highlight"><pre><span></span><code>$git stash apply
</code></pre></div>
<p>取出最近一次的 stash </p>
<div class="highlight"><pre><span></span><code>$git stash apply num 输入 list 里对应的数字，取出对应的 stash

$git reset [--soft | --mixed | --hard] [commitID]
</code></pre></div>
<p>注意： </p>
<p>慎用此命令！一定要理解和确认清楚命令的参数都会干些什么事情，再去执行此命令！！！ </p>
<p>万一误用此命令，可通过 reflog 找回之前的操作记录，再 reset 一次来恢复到指定的 commitID 版本，但是： </p>
<p>已加入暂存区但未 commit 的内容将会丢失，需要使用一些技巧才有可能恢复出来； </p>
<p>工作区已修改但未加入暂存区的内容将彻底丢失，无法恢复； </p>
<p>工作区里未受 Git 管理的新增文件（untracked）不受影响。 </p>
<p>reset 命令用于将暂存区（和/或工作区）回退到某一次提交的版本，或单独回退某些文件，参数决定是否会影 
响工作区的修改。 </p>
<p>--soft 参数用于将版本库回退到某个 commitID 版本，保留工作区和暂存区中的内容不变，并把 commitI 
D 后面所带来的新的差异合并进暂存区，版本库丢弃 commitID 之后所有的 commit。 </p>
<p>--mixed 为默认，可不带该参数，用于将版本库回退到某个 commitID 版本，保留工作区的内容不变，重置 
暂存区到 commitID 版本，版本库丢弃 commitID 之后所有的 commit。 </p>
<p>--hard 参数用于将版本库回退到某个 commitID 版本，并撤销工作区和暂存区的所有的修改(工作区 untr 
acked 的新增文件不受影响)，全部回退到指定的 commitID 版本，版本库丢弃 commitID 之后所有的 commit。 </p>
<p>commitID 参数用于指定回退到哪个版本，commitID 可以用 HEAD/HEAD~0、HEAD<sup>/HEAD~1、HEAD</sup>^/ </p>
<p>HEAD^2/HEAD~2 等形式来分别表示当前版本、上一个版本、上上个版本等，也可以直接写具体的 commitID。 </p>
<div class="highlight"><pre><span></span><code>$git rm &lt;file&gt;
</code></pre></div>
<p>根据参数删除工作区和/或暂存区中的文件。 </p>
<div class="highlight"><pre><span></span><code>$git rm file
</code></pre></div>
<p>*删除工作区中 untracked 的文件 </p>
<div class="highlight"><pre><span></span><code>$git rm -f file 删除已经 add 到暂存区中的文件，同时工作区中的该文件也会被删除

$git rm --cached file
</code></pre></div>
<p>删除已经 add 到暂存区中的文件，保留工作区中的该文件，状态变为 untracked </p>
<div class="highlight"><pre><span></span><code>$git restore &lt;file&gt;
</code></pre></div>
<p>根据参数撤销工作区或暂存区文件的修改，如： </p>
<p>撤销工作区指定文件的修改，保持与暂存区中的同步，暂存区中的该文件可能还未 commit 到本地仓库 </p>
<div class="highlight"><pre><span></span><code>$git restore &lt;file&gt;
</code></pre></div>
<p>撤销暂存区指定文件的修改，保持与最后一次提交同步，该文件在工作区的修改需要重新 add 进暂存区 </p>
<div class="highlight"><pre><span></span><code>$git restore --staged &lt;file&gt;

$git tag
</code></pre></div>
<p>《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【在线资源仓库：https://gitee.com/liangkzgitee/ohos_study_note】 
《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【“鸿蒙系统学习笔记”技术专栏：https://ost.51cto.com/column/46】 
504 </p>
<p>用于给仓库的某个提交打上标签以作标记，如标记发布版本。</p>
<div class="highlight"><pre><span></span><code>$git tag -a “tagName”
</code></pre></div>
<p>在当前提交上打名为“tagName”的标签 </p>
<div class="highlight"><pre><span></span><code>$git tag -a “tagName” -m “tag message” 在当前提交上打名为“tagName”的标签，并写上备注信息

$git tag -a “tagName”
</code></pre></div>
<p>删除名为“tagName”的标签 </p>
<div class="highlight"><pre><span></span><code>$git log
</code></pre></div>
<p>用于查看提交记录。 </p>
<p>这是一个非常有用命令，可以通过复杂的参数组合来对提交记录进行过滤和显示，下面仅举几个简单的例子， 
更多高级用法，可以通过 help 命令或者网络搜索来进行学习。 </p>
<div class="highlight"><pre><span></span><code>$git log
</code></pre></div>
<p>以缺省格式显示全部提交历史 </p>
<div class="highlight"><pre><span></span><code>$git log --oneline 以一行的简洁形式查看全部提交历史

$git log --graph
</code></pre></div>
<p>以拓扑图的形式查看全部提交历史 </p>
<p>指定日期：--since 和--before，也可以用--until 和--after </p>
<div class="highlight"><pre><span></span><code>$git log --oneline --before={3.days.ago} --after={2021-09-30}

$git reflog
</code></pre></div>
<p>以栈列表的形式查看每一次 git 命令的执行记录。这个对不小心使用了 reset --hard 命令“误删除”了提 
交的时候，可以找回 reset 前的 commitID，并再次“恢复”reset 前的提交状态。 </p>
<div class="highlight"><pre><span></span><code>$git reflog --oneline
</code></pre></div>
<p>...... </p>
<p>2ad14e2 (dev) HEAD@{9}: reset: moving to 2ad14e2 </p>
<p>aea5fbe HEAD@{10}: reset: moving to aea5fbe3754cfeb814ee4458800d3eabff3600a0 </p>
<p>2ad14e2 (dev) HEAD@{11}: commit: file2 </p>
<p>...... </p>
<p>aea5fbe HEAD@{28}: commit (initial): commit file1 </p>
<p>如上面的操作，@{10}将工作区和暂存区恢复到仓库的 initial 的状态，工作区和暂存区已修改的内容全部 </p>
<p>丢失；通过 git reflog 查看这个操作记录，可以看到 reset 前的操作记录和 commitID，@{9}再次 reset 到 </p>
<p>@{10}之前的最新状态，工作区和暂存区恢复到@{11}的状态。 </p>
<p>1、找到commit_id</p>
<p>hezaizai@ubuntu: ~/code_test $ git reflog</p>
<p>1ab8e23 HEAD@{0}: reset: moving to HEAD^</p>
<p>f8e01df HEAD@{1}: commit: 最新节点</p>
<p>1ab8e23 HEAD@{2}: commit: commit the new f</p>
<p>66759e4 HEAD@{4}: commit: forword</p>
<p>9cb749d HEAD@{6}: commit: twice commit</p>
<p>eb593f8 HEAD@{8}: commit: first commit gitreset”</p>
<p>这里记录了你所有的操作记录</p>
<p>这里f8e01df 就是你回退的HEAD^，也就是那个commit_id。</p>
<hr />
<h3 id="_3"><center><table><tr><td bgcolor=#FF4500>恢复删除记录</td></tr></table></center><a class="headerlink" href="#_3" title="Permanent link">#</a></h3>
<hr />
<h1 id="2">2、恢复删除记录<a class="headerlink" href="#2" title="Permanent link">#</a></h1>
<p>推荐： 
    git reset --hard commit_id</p>
<p>好了，世界又恢复了平静。</p>
<p>1.2 分支操作 
    $git branch <newbranch> </p>
<p>在当前分支的当前状态下创建一个新的名为 newbranch 的分支，但不切换分支； </p>
<p>不带参数则直接显示当前所有分支列表，*标记当前所在分支。 </p>
<div class="highlight"><pre><span></span><code>$git branch
</code></pre></div>
<p>查看当前仓库的所有分支，当前处于*标记的分支上 </p>
<p>*dev </p>
<p>master </p>
<div class="highlight"><pre><span></span><code>$git branch -r
</code></pre></div>
<p>-r 查看远程仓库的分支 </p>
<div class="highlight"><pre><span></span><code>m/master -&gt; origin/master

origin/OpenHarmony-3.0-LTS

origin/OpenHarmony_1.0.1_release

origin/master


$git switch -c newbranch
</code></pre></div>
<p>在当前分支的当前状态下创建一个新的名为 newbranch 的分支，并立即切换到 newbranch 分支；</p>
<p>不带-c 参数则不创建新分支，而是直接切换到 newbranch 分支上，newbranch 分支必须是已经存在的分支； </p>
<div class="highlight"><pre><span></span><code>$git checkout -b newbranch
</code></pre></div>
<p>作用与 switch 基本一致，但推荐用 switch 命令，更易理解。 </p>
<div class="highlight"><pre><span></span><code>$git merge
</code></pre></div>
<p>该命令用于合并分支。如本地仓库有 master、dev、issue 等若干个分支，</p>
<div class="highlight"><pre><span></span><code>$git switch master
</code></pre></div>
<p>切换当前分支到 master 分支</p>
<div class="highlight"><pre><span></span><code>$git merge dev
</code></pre></div>
<p>将 dev 分支合并到当前 master 分支上 </p>
<p>《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【</p>
<p>在线资源仓库：https://gitee.com/liangkzgitee/ohos_study_note】 </p>
<p>《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【“鸿蒙系统学习笔记”技术专栏：https://ost.51cto.com/column/46】 
505 </p>
<p>可参考 2.5.1 节的分支示意图进行理解。 </p>
<p>自动合并分支可能会因为修改有冲突导致合并失败，需要我们根据提示去解决掉冲突，然后手动 add 和 comm 
it 去完成分支的合并。 </p>
<div class="highlight"><pre><span></span><code>$git rebase &lt;base&gt;
</code></pre></div>
<p>基于参数 base，对当前分支进行变基（rebase），参数 base 可以是 commitID、分⽀ 名称、tag 等能标记 
位置的信息。 </p>
<p>从当前分支与 base 所在分支的分叉点开始，到当前分支的最后一次 commit 之间的每一个 commit 单独提取 
成 patch，在 base 位置按顺序一个个打 patch，打 patch 如果有冲突，则会暂停，需要手动解决掉冲突，操作 
add，不需要 commit，只需要执行 git rebase --continue，修改提交信息，继续完成这个 patch（在当前 
分支会有一个新的 commitID），然后继续下一个 patch，无冲突不知道会不会有新的 commitID，还有冲突就 
继续解决冲突，add 和 continue，获得新的 commitID，直到 rebase 完成，这样分叉点就更新到了 base 所在 
的位置，而当前分支则获得一组新的 commitID。 
rebase 出现了冲突，可以用 rebase --skip 参数将引起冲突的 commit 抛弃，这个要慎用！ 
rebase 阶段执行 rebase --abort 可以终止和撤销 rebase，恢复到 rebase 命令前的状态。 </p>
<hr />
<h3 id="git_grebase"><center><table><tr><td bgcolor=#FF4500>git grebase</td></tr></table></center><a class="headerlink" href="#git_grebase" title="Permanent link">#</a></h3>
<hr />
<h1 id="_4">一、前言<a class="headerlink" href="#_4" title="Permanent link">#</a></h1>
<div class="highlight"><pre><span></span><code>rebase 使用方法

git rebase [基节点] 
git rebase [基节点] [待变基节点]

rebase后面的参数可以是两个，也可以是一个，当rebase为一个参数的时候其实是省略了第二个参数，第二个参数为HEAD指针当前指向的那个节点。
</code></pre></div>
<h1 id="rebase">二、rebase 图解<a class="headerlink" href="#rebase" title="Permanent link">#</a></h1>
<p>首先通过简单的提交节点图解感受一下rebase作用。</p>
<p>两个分支master和feature，其中feature是在提交点B处从master上拉出的分支。</p>
<p>master上有一个新提交M，feature上有两个新提交C和D。</p>
<p>此时切换到feature分支上，执行如下命令，相当于是想要把master分支合并到feature分支（这一步的场景就可以类比为我们在自己的分支
feature上开发了一段时间了，准备从主干master上拉一下最新改动）</p>
<div class="highlight"><pre><span></span><code>git checkout feature
git rebase master
</code></pre></div>
<p>//这两条命令等价于git rebase master feature
下图为变基后的提交节点图，解释一下其工作原理：</p>
<p>feature：待变基分支、当前分支;
master：基分支、目标分支;
官方解释:
当执行rebase操作时，git会从两个分支的共同祖先开始提取待变基分支上的修改，然后将待变基分支指向基分支的最新提交，最后将刚才提取
的修改应用到基分支的最新提交的后面。</p>
<p>结合例子解释：当在feature分支上执行git rebase master时，git会从master和featuer的共同祖先B开始提取feature分支上的修改，也
就是C和D两个提交，先提取到。然后将feature分支指向master分支的最新提交上，也就是M。最后把提取的C和D接到M后面，但这个过程是删除
原来的C和D，生成新的C’和D’，他们的提交内容一样，
但commit id不同。feature自然最后也是指向D’。</p>
<p>通俗解释：rebase，变基，可以直接理解为改变基底。feature分支是基于master分支的B拉出来的分支，feature的基底是B。而master在B之
后有新的提交，就相当于此时要用master上新的提交来作为feature分支的新基底。实际操作为把B之后feature的提交存下来，然后删掉原来
这些提交，再找到master的最新提交位置，把存下来的提交
再接上去（新节点新commit id），如此feature分支的基底就相当于变成了M而不是原来的B了。（注意，如果master上在B以后没有新提交，
那么就还是用原来的B作为基，rebase操作相当于无效，此时
和git merge就基本没区别了，差异只在于git merge会多一条记录Merge操作的提交记录。）</p>
<p>上面的例子可抽象为如下实际工作场景：张三从B拉了代码进行开发，目前提交了两次，开发到D了；李四也从B拉出来开发了并且开发完毕，
他提交到了M，然后合到主干上了。此时张三想拉下最新代码，于是他在feature分支上执行了git rebase master，即把master分支给rebase
过来，由于李四更早开发完并合了主干，如此就相当于张三
是基于李四的最新提交M进行的开发了。</p>
<h1 id="_5">三、应用示例<a class="headerlink" href="#_5" title="Permanent link">#</a></h1>
<p>按照上面的图解构造了提交记录，如下图所示：（ABM是master分支线，ABCD是feature分支线。这里画成了master变色分叉出来，
这不影响理解，知道是表示两个分支两条线即可！）</p>
<p>此时，在feature分支上执行git rebase master</p>
<p>变基完成以后，ABCD是原来的feature分支线，ABMC’D’是新的feature分支线，ABM是master分支线（没有变化）</p>
<hr />
<h3 id="_6"><center><table><tr><td bgcolor=#FF4500>重建提交历史</td></tr></table></center><a class="headerlink" href="#_6" title="Permanent link">#</a></h3>
<hr />
<h1 id="_7">四、重建提交历史<a class="headerlink" href="#_7" title="Permanent link">#</a></h1>
<p>使用场景
gitbase 的另一个功能主要用来重建提交历史，什么意思呢？你在本地commit过程中有时候可能刚提交完，然后发现有个很小的地方需要
修正一下，而当你修正完之后又得提交，但是这两次提交完成的任务可能一模一样，因为第二次修改的地方实在是微不足道，或者开发一个
新功能的时候分多次提交，每次的变更都很小，这个时候就可以使用
git rebase的另一个功能：重建提交历史。
2.使用方法</p>
<div class="highlight"><pre><span></span><code>git rebase -i [地址引用]
</code></pre></div>
<p>1
交互式 rebase 指的是使用带参数 --interactive 的 rebase 命令, 简写为 -i。如果你在命令后增加了这个选项, Git 会打开一个 UI 
界面并列出将要被复制到目标分支的备选提交记录，它还会显示每个提交记录的哈希值和提交说明，提交说明有助于理解这个提交进行了哪些更改。
在实际使用时，所谓的 UI 窗口一般会在文本编辑器 
—— 如 Vim —— 中打开一个文件。</p>
<p>当 rebase UI界面打开时, 你能做3件事:</p>
<p>调整提交记录的顺序;
删除不想要的提交;
合并提交。
简而言之，它允许你把多个提交记录合并成一个。
例如：</p>
<p>C2-C5的提交都是为了完成一个功能，现在我想合并这些提交：</p>
<div class="highlight"><pre><span></span><code>git rebase -i HEAD~4
</code></pre></div>
<p>1
这样HEAD指针就会直线后退4个节点到C1，然后列出这个节点之后你想操作的节点，C2，C3，C4，C5，之后你就可以编辑操作这些节点：变更
提交顺序，删除部分提交历史等，最后得到结果：</p>
<p>三、推荐使用场景
不同公司，不同情况有不同使用场景，不过大部分情况推荐如下：</p>
<p>单人开发的时候，拉公共分支最新代码的时候使用rebase，也就是git pull -r或git pull –rebase。这样的好处很明显，提交记录会比较
简洁。但有个缺点就是rebase以后我就不知道我的当前分支最早是从哪个分支拉出来的了，因为基底变了嘛，所以看个人需求了。</p>
<p>多人开发，往公共分支上合代码的时候，使用merge。如果使用rebase，那么其他开发人员想看主分支的历史，就不是原来的历史了，历史已经
被你篡改了。举个例子解释下，比如张三和李四从共同的节点拉出来开发，张三先开发完提交了两次然后merge上去了，李四后来开发完如果
rebase上去（注意李四需要切换到自己本地的主分支，假设先
pull了张三的最新改动下来，然后执行<git rebase 李四的开发分支>，然后再git push到远端），则李四的新提交变成了张三的新提交的新
基底，本来李四的提交是最新的，结果最新的提交显示反而是
张三的，就乱套了。</p>
<p>正因如此，大部分公司其实会禁用rebase，不管是拉代码还是push代码统一都使用merge，虽然会多出无意义的一条提交记录“Merge … to …”，
但至少能清楚地知道主线上谁合了的代码以及他们合代码的时间先后顺序。</p>
<hr />
<h3 id="rebase_vs_merge"><center><table><tr><td bgcolor=#FF4500>rebase VS merge</td></tr></table></center><a class="headerlink" href="#rebase_vs_merge" title="Permanent link">#</a></h3>
<hr />
<h1 id="rebase_vs_merge_1">五、rebase VS merge<a class="headerlink" href="#rebase_vs_merge_1" title="Permanent link">#</a></h1>
<p>首先二者都具备整合分支间变更的能力，但二者的实现手段却大不相同。git merge总是在推进提交历史，并不会影响提交的原始状态，
而git rebase整合变更的方式则是对提交历史进行重写，但从结果上看，最后git rebase形成的节点与git merge`形成的节点完全相同。</p>
<p>rebase 优缺点
优点：</p>
<p>rebase不产生新节点，当然也不会产生新的commit日志，但是merge过程中会产生一条几乎“无用”的Merge日志。使用rebase操作的最大好处
在于可以让项目提交历史变得非常干净整洁。首先，它消除了git merge操作所需创建的没有必要的合并提交。其次，rebase会造就一个线性
的项目提交历史——也就是说，可以从feature分支的顶部开始
向下查找到分支的起始点，而不会碰到任何历史分叉。</p>
<p>rebase产生冲突并合并冲突发生在操作git rebase时，而合并冲突这个操作是开发者自己进行的；但是提交合并申请的时候一般情况下会有
评审，由评审者解决冲突，开发者人多的情况下工作量可想而知。</p>
<p>缺点：
rebase操作产生冲突需要依次逐个进行解决，重写提交历史可能引起混乱，对新手使用也不是很友好。</p>
<p>在日常的小规模项目开发中，这种差异几乎可以忽略。但是在复杂的多人协作开发场景下，随着项目迭代的不断推进和工程复杂度的不断提高，
rebase往往能助力生成相对清爽的提交历史，进而方便追溯工程的演进历史和缺陷排查。</p>
<p>不过为了获得这种便于理解的提交历史，却需要付出两种代价：安全性和可追溯性。如果不能遵循rebase的黄金法则，重写项目提交历史会为协作
工作流程带来潜在的灾难性后果。再次，rebase操作丢失了合并提交能够提供的上下文信息——所以开发者就无法知道功能分支是什么时候应用了
上游分支的变更。</p>
<p>merge 合并历史如下：</p>
<p>如果使用rebase进行合并，就会呈现出比较清爽的提交日志，也不会有那么多线，而是一条直线。</p>
<hr />
<h3 id="_8"><center><table><tr><td bgcolor=#FF4500>拓展阅读</td></tr></table></center><a class="headerlink" href="#_8" title="Permanent link">#</a></h3>
<hr />
<h1 id="_9">六、拓展阅读<a class="headerlink" href="#_9" title="Permanent link">#</a></h1>
<p>《Git进阶（十二）：git merge 用法详解》</p>
<p>1.3 远程仓库操作 
Git 的大部分命令都是对本地仓库进行操作的，只有少量的几个访问网络的命令对远程仓库进行操作。 </p>
<div class="highlight"><pre><span></span><code>$git clone &lt;src_repo_path&gt; &lt;dest_repo_dir&gt;
</code></pre></div>
<p>见本地仓库操作中对此命令的说明，该命令也可操作克隆远程仓库到本地。 </p>
<div class="highlight"><pre><span></span><code>$git fetch &lt;src_repo_path&gt; &lt;remote_branch&gt;:&lt;local_branch&gt;
</code></pre></div>
<p>从 src_repo_path 指定的远程仓库抓取 remote_branch 指定的分支到本地仓库，并重新命名为 local_branch。 </p>
<p>从 remote 远程仓库抓取它的 master 分支到本地仓库，并以 newbr 命名抓取回来的该分支 </p>
<div class="highlight"><pre><span></span><code>$git fetch remote master:newbr
</code></pre></div>
<p>不带 local_branch 参数，则从 remote 远程仓库抓取 master 分支到本地仓库，</p>
<p>并默认以 FETCH_HEAD 指向抓取回本地的匿名分支，以备 merge 命令使用 </p>
<div class="highlight"><pre><span></span><code>$git fetch remote master
</code></pre></div>
<p>branch  master -&gt; FETCH_HEAD </p>
<p>将从远程抓取的 FETCH_HEAD 指向的匿名分支，合并到本地仓库当前分支上 </p>
<div class="highlight"><pre><span></span><code>$git merge FETCH_HEAD

$git pull &lt;src_repo_path&gt; &lt;remote_branch&gt;:&lt;local_branch&gt;
</code></pre></div>
<p>从 src_repo_path 指定的远程仓库抓取 remote_branch 指定的分支到本地仓库，然后马上尝试将其合并 到本地仓库的 local_branch 上。
如未指定 local_branch，则默认尝试合并到本地仓库的当前分支上。 </p>
<p>在合并过程中如果出现冲突，则会在冲突位置做标记，需要我们手动解决冲突后，自己去 add 和 commit。 </p>
<p>pull 命令基本上就是 fetch 和 merge 两个命令的组合，但实际上它们还是有一些实现上的差别的，建议还 </p>
<p>是尽量用 fetch 和 merge 进行操作，这样过程比较清晰和受控。 </p>
<div class="highlight"><pre><span></span><code>$git push &lt;dest_repo_dir&gt; &lt;local_branch&gt;:&lt;remote_branch&gt;
</code></pre></div>
<p>将本地仓库的 local_branch 的修改，推送到 dest_repo_path 指定的远程仓库的 remote_branch 上。 </p>
<p>如果远程仓库不存在这个 remote_branch，则会自动在远程创建此 remote_branch。 </p>
<p>如果不带 remote_branch 参数，则会默认推送到远程仓库上与 local_branch 同名的分支上。 </p>
<p>push 本地仓库的 localbr 分支到 remote 远程仓库的 remotebr 分支 </p>
<div class="highlight"><pre><span></span><code>$git push remote localbr:remotebr
</code></pre></div>
<p>push 本地仓库的 master 分支到 remote 远程仓库的 master 分支 </p>
<div class="highlight"><pre><span></span><code>$git push remote master
</code></pre></div>
<p>《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【在线资源仓库：https://gitee.com/liangkzgitee/ohos_study_note】 </p>
<p>《沉浸式剖析 OpenHarmony 源代码 梁开祝著》【“鸿蒙系统学习笔记”技术专栏：https://ost.51cto.com/column/46】 
506 </p>
<ol>
<li>repo 的使用 </li>
</ol>
<p>$repo help [options] </p>
<p>查看帮助信息，更具体的帮助信息可以通过参数指定。 </p>
<div class="highlight"><pre><span></span><code>$repo init [options]

$repo init -u https://gitee.com/openharmony/manifest.git -b master --no-repo-verify
</code></pre></div>
<p>-u URL：指定远程的 manifest 仓库的地址，也就是整个项目的清单仓库。 </p>
<p>-b branch：指定 manifest.xml 文件分支，可以是分支名称，也可以是引用标签名字。 </p>
<div class="highlight"><pre><span></span><code>$repo sync [&lt;project&gt;...]
</code></pre></div>
<p>将参数指定的远程仓库的代码同步到本地。 </p>
<p>不带参数默认同步 manifest.xml 中记录的所有仓库；带参数则只同步参数指定的仓库列表。 </p>
<div class="highlight"><pre><span></span><code>$repo start &lt;newbranchname&gt; [--all | &lt;project&gt;...]
</code></pre></div>
<p>在参数指定的仓库上，切换到<newbranchname>分支（该分支不存在则创建它），可以使用--all 参数对所 </p>
<p>有的仓库都执行分支切换操作。该命令是对 git branch 和 git switch 命令的封装，当第一次 sync 完代码后， </p>
<p>可以通过 start 命令将所有仓库切换到开发分支，避免在匿名分支上工作容易导致丢失工作内容。 </p>
<div class="highlight"><pre><span></span><code>$repo status [&lt;project&gt;...]
</code></pre></div>
<p>status 用于查看多个仓库的状态，不带参数默认显示所有仓库的状态。</p>
<p>这个命令非常有用，它是 git status 的封装，可以一次性查看多个仓库的状态，清楚地显示出哪些仓库的 
哪些文件相对上一次提交有了变化。 </p>
<div class="highlight"><pre><span></span><code>$repo upload [--re --cc] [&lt;project&gt;]...
</code></pre></div>
<p>用于将多个本地仓库的提交一次性上传到远程仓库。 </p>
<p>upload 命令会首先找出本地分支从上一次同步（sync）操作以来发生的改动，将它们做成 patch 文件，上 
传至远程服务器。 </p>
<div class="highlight"><pre><span></span><code>$repo download {[project] change[/patchset]}...
</code></pre></div>
<p>upload 是把改动内容提交到远程服务器，download 则是从远程服务器下载改动的 patch。</p>
<div class="highlight"><pre><span></span><code>$repo forall [&lt;project&gt;...] -c &lt;command&gt; [&lt;arg&gt;...]
</code></pre></div>
<p>这个命令可以对参数指定的仓库列表（不指定则对所有仓库），依次执行-c 参数指定的命令，如：</p>
<p>对两个仓库 repoA 和 repoB 依次执行 git 命令，分别生成各自的 dev 分支并切换到 dev 分支上 </p>
<div class="highlight"><pre><span></span><code>$repo forall repoA repoB -c “git switch -c dev”
</code></pre></div>
<p>对所有仓库依次执行 git 命令，切换到 master 分支 </p>
<div class="highlight"><pre><span></span><code>$repo forall -c “git switch master”

$repo prune [&lt;project&gt;...]
</code></pre></div>
<p>删除参数指定仓库中（不指定则对所有仓库），已经合并的分支，如开发分支上的代码合并到主干分支后，使 
用该命令就可以删除这个开发分支。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright @ 2024 Diperluer, All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.indexes", "navigation.expand", "navigation.footer", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "header.autohide", "content.code.copy", "content.code.annotate", "content.tooltips"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>